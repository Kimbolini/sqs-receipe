@page "/favoriten"

@using System.Collections.ObjectModel;
@using frontend.Data;
@using frontend.Services;
@using frontend.Services.DTO;
@inject MealProviderService MealProvider;

<PageTitle>Favoriten</PageTitle>

<h1>Favoriten</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

<MealPreviewListComp Meals="@uglyMeals"></MealPreviewListComp>

@code {
    //TODO: Display Favoriten aus der Datenbank
    private ObservableCollection<MealDto>? meals;
    private ObservableCollection<Meal>? uglyMeals;

    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }

    protected override async Task OnInitializedAsync()
    {
        var tmp = MealProvider.GetMealsFromDbAsMeal().Result;
        uglyMeals = new ObservableCollection<Meal>(tmp);

        /*
        var tmp = MealProvider.GetMealsFromDb().Result;
        meals = new ObservableCollection<MealDto>(tmp);   */
    }
}
